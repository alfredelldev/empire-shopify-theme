import{f as j,r as h,b as C,j as e,e as v,D as b,q as g,F as w,S as y,s as E,V as m,B as k,t as S,E as F,v as B,x as I,y as D,R,C as A,z as O}from"./Error.js";import{F as N,D as L,N as _}from"./NoConfiguration.js";import{H as P,S as U,B as $}from"./ScaleableImage.js";var x=j(function(t,r){const{ratio:a=4/3,children:n,className:l,...c}=t,i=h.Children.only(n),s=C("chakra-aspect-ratio",l);return e.jsx(v.div,{ref:r,position:"relative",className:s,_before:{height:0,content:'""',display:"block",paddingBottom:b(a,o=>`${1/o*100}%`)},__css:{"& > *:not(style)":{overflow:"hidden",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"& > img, & > video":{objectFit:"cover"}},...c,children:i})});x.displayName="AspectRatio";function H({component:t}){const[r,a]=h.useState(void 0),{selectedOptions:n,updateSelectedOptions:l}=g();if(!t||!t.options||t.options.length===0)return null;return h.useEffect(()=>{t.options&&t.options.length>0&&l(t,t.options[0])},[]),h.useEffect(()=>{const i=n.get(t.id)&&Array.from(n.get(t.id),([s,o])=>({key:s,value:o}))[0].value;i&&setTimeout(()=>{a(i)},0)},[n]),e.jsxs(P,{id:t.id,w:"full",align:"start",gap:3,alignItems:"center",children:[e.jsx(x,{ratio:1,h:"full",w:20,borderRadius:6,overflow:"hidden",children:r&&r.imageUrl?e.jsx(U,{showZoomIcon:!1,src:r.imageUrl,fallbackSrc:"https://cdn.shopify.com/s/files/1/0507/4822/7764/files/no-image.svg?v=1690173292",fallbackStrategy:"onError",alt:r.name,objectFit:"cover"}):e.jsx($,{bg:"blackAlpha.50"})}),e.jsxs(w,{children:[e.jsx(N,{children:t.name}),e.jsx(y,{backgroundColor:"white",onChange:c,children:t.options.map(i=>{const{id:s,name:o,group:d,cost:u,isFixedPrice:p}=i;return e.jsxs("option",{value:s,children:[o," ",d&&`(${d})`,u&&u>0?p||p===void 0?" ("+E(u)+")":` (+${u*100}%)`:null]},s)})})]})]});function c(i){l(t,t.options.find(s=>s.id===i.target.value))}}function T(){const{isLoadingCart:t,components:r,selectedOptions:a,allSelected:n,handleCartCreate:l,handleUnsetComponents:c}=g();return e.jsxs(m,{w:"full",h:"full",p:3,gap:3,bg:"blackAlpha.50",borderRadius:6,divider:e.jsx(L,{}),children:[r.map(s=>e.jsx(H,{component:s},s.id)),e.jsx(k,{w:"full",variant:"solid",colorScheme:"brand",rightIcon:e.jsx(S,{}),isLoading:t,onClick:i,children:"Checkout"})]});function i(){if(!n){const s=r.reduce((o,d)=>(a.has(d.id)||o.push(d.id),o),[]);c(s);return}l()}}function V(){const{hasConfiguration:t,isLoading:r,hasError:a}=g();return a?e.jsx(F,{}):t?e.jsx(m,{m:"auto",w:"full",h:"full",maxW:"1350px",alignItems:"center",bg:"white",children:r?e.jsx(B,{}):e.jsx(T,{})}):e.jsx(_,{})}const q=I({colors:{brand:{50:"#DDECF6",100:"#B6D7EC",200:"#90C2E2",300:"#69ADD8",400:"#4398CE",500:"#1C83C4",600:"#176DA3",700:"#125681",800:"#0E4060",900:"#092A3F",950:"#04141D",accent:"#FFBF00"}}});document.documentElement.style.scrollBehavior="smooth";document.body.style.scrollBehavior="smooth";const f=document.getElementById("configurator"),z=f==null?void 0:f.dataset.productId;D.createRoot(f).render(e.jsx(R.StrictMode,{children:e.jsx(A,{theme:q,children:e.jsx(O,{productId:z,children:e.jsx(V,{})})})}));
